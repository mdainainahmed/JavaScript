<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Hello</h1>
</body>
<script>

    const body = document.querySelector('body');
    const url = 'https://jsonplaceholder.typicode.com/users'

//      ++++++++++++++++++++ Understand XMLHttpRequest()  +++++++++++++++++++++++++++
    // let response;

    // const xml = new XMLHttpRequest()
    // xml.open('GET', url)
    // xml.onreadystatechange = function (){
        
    //     if( this.readyState == 4 ){
    //         response = JSON.parse(this.responseText)
    //         console.log(response)
    //     }
    //     const table = document.createElement('table')

    //     const arr = Array.from(response)

    //     arr.map( (obj) => {
    //         const row = document.createElement('tr')
    //         const col1 = document.createElement('td')
    //         const col2 = document.createElement('td')
    //         const col3 = document.createElement('td')
    //         col1.innerHTML = obj.name
    //         col2.innerHTML = obj.username
    //         col3.innerHTML = obj.email
    //         col1.style.border = 'solid'
    //         col2.style.border = 'solid'
    //         col3.style.border = 'solid'
    //         row.appendChild(col1)
    //         row.appendChild(col2)
    //         row.appendChild(col3)
    //         table.appendChild(row)
    //     } )

    //     table.style.border = 'solid'
    //     body.appendChild(table)
    // }
    // xml.send()



//  +++++++++++++++++++++++   Understading Promise +++++++++++++++++++++++++
    // new Promise( function(resolve,reject){

    //     const xml = new XMLHttpRequest()
    //     xml.open('GET', url)

    //     xml.onreadystatechange = function(){

    //         if(this.readyState == 4) {
    //             const response = this.responseText
    //             const data = JSON.parse(response)
    //             resolve(data)
    //         }
    //     }
    //     xml.send()
    // })
    // .then((response)=>{
    //     console.log(response)
    //     const table = document.createElement('table')

    //     const arr = Array.from(response)

    //     arr.map( (obj) => {
    //         const row = document.createElement('tr')
    //         const col1 = document.createElement('td')
    //         const col2 = document.createElement('td')
    //         const col3 = document.createElement('td')
    //         col1.innerHTML = obj.name
    //         col2.innerHTML = obj.username
    //         col3.innerHTML = obj.email
    //         col1.style.border = 'solid'
    //         col2.style.border = 'solid'
    //         col3.style.border = 'solid'
    //         row.appendChild(col1)
    //         row.appendChild(col2)
    //         row.appendChild(col3)
    //         table.appendChild(row)
    //     } )

    //     table.style.border = 'solid'
    //     body.appendChild(table)
    // })




//  +++++++++++++++++++++++++ Understanding async wait method ++++++++++++++++++++
    // async function consumePromise(){
    //     try {
    //         const response = await fetch(url)
    //         const data = await response.json()

    //         const table = document.createElement('table')

    //         const arr = Array.from(data)

    //         arr.map( (obj) => {
    //             const row = document.createElement('tr')
    //             const col1 = document.createElement('td')
    //             const col2 = document.createElement('td')
    //             const col3 = document.createElement('td')
    //             col1.innerHTML = obj.name
    //             col2.innerHTML = obj.username
    //             col3.innerHTML = obj.email
    //             col1.style.border = 'solid'
    //             col2.style.border = 'solid'
    //             col3.style.border = 'solid'
    //             row.appendChild(col1)
    //             row.appendChild(col2)
    //             row.appendChild(col3)
    //             table.appendChild(row)
    //         } )

    //         table.style.border = 'solid'
    //         body.appendChild(table)
    //     } catch (error) {
    //         console.log(`ERROR: ${error}`)
    //     }
    // }
    // consumePromise()
</script>
</html>